#include <unistd.h>

import Blocks;
import Renderers;

int main() {
    LBlock* lblock = nullptr;
    ZBlock* zblock = nullptr;
    char pixels1[18][11] = {
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {'T', 'T', 'T', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', 'T', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'S', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', 'Z', 'S', 'S', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', 'Z', 'Z', 'I', 'S', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', 'Z', 'J', 'I', ' ', ' '},
        {' ', ' ', ' ', ' ', 'O', 'O', ' ', 'J', 'I', ' ', ' '},
        {'I', 'I', 'I', 'I', 'O', 'O', 'J', 'J', 'I', ' ', ' '},
    };

    char pixels2[18][11] = {
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {'I', 'I', 'I', 'I', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', 'S', ' ', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', ' ', ' ', 'S', 'S', ' ', ' ', ' ', ' '},
        {' ', ' ', ' ', 'J', ' ', ' ', 'S', ' ', ' ', 'O', 'O'},
        {'O', 'O', ' ', 'J', 'T', 'T', 'T', ' ', ' ', 'O', 'O'},
        {'O', 'O', 'J', 'J', ' ', 'T', 'I', 'I', 'I', 'I', ' '},
    };

    RenderPackage p1{100, 120, pixels1, 1, lblock, false};
    RenderPackage p2{140, 200, pixels2, 2, zblock, false};

    GuiRenderer gui{};
    usleep(100000);  // wait 100ms for window is ready
    gui.render(p1, p2);

    sleep(100);
}
